<%- include('../../../partials/header.ejs') %>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2">
                <%- include('../../../partials/sidebar.ejs') %> 
            </div>
            <div class="col-md-10 my-5">
                <div class="card card-body">
                    <h3 class="mb-2">
                        All Posts List
                        <a href="/posts/create %>" class="btn btn-sm btn-success mx-2 float-right">Create New Post</a>
                    </h3>
                    
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>SL</th>
                                <th>Title</th>
                                <th>Thumbnail</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if(posts.length > 0) { %>
                            <% posts.reverse().forEach(function (post, i) { %> 
                            <tr>
                                <td><%= i + 1 %> </td>
                                <td><%= post.title %> </td>
                                <td> <img style="max-width: 200px;" class="img-fluid" src="<%= post.thumbnail %>" alt="Post Thumbnail"> </td>
                                <td>
                                    <a href="/posts/edit/<%= post._id %>" class="btn btn-sm btn-info mx-2">Edit</a>
                                    <a href="/posts/delete/<%= post._id %>" class="btn btn-sm btn-danger mx-2">Delete</a>
                                </td>
                            </tr>
                            <% }) %> 
                            <% } else { %> 
                                <tr>
                                    <td class="text-center" colspan="4">No Post Available. Create Post <a class="btn btn-sm btn-success" href="/posts/create">Now</a></td>
                                </tr>
                            <% } %> 
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

    <%- include('../../../partials/footer.ejs') %>
        </body>

        </html>